<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue Chart</title>


    <link href="../assets/styles.css" rel="stylesheet" />

    <style>
        #chart {
            max-width: 850px;
            margin: 35px auto;
        }
    </style>
</head>

<body>
    <div id="chart">

    </div>

    <button onclick="setCourbe()">Update</button>


    <script src="../../dist/apexcharts.js"></script>

    <script>
 
        var  options = {
            series: [{
            name: 'Waiting for datas',
            data: []
          }],
            chart: {
              type: 'line',
              width: 700,
              height: 400,
              animations: {
                enabled: false
              },
              zoom: {
                type: 'xy',
                enabled: true
              },
              toolbar: {
                show: true
              }
            },
            stroke: {
              width: 1
            },
            markers: {
              size: 0
            },
            xaxis: {
              type: 'datetime',
              labels: {
                datetimeFormatter: {
                  year: 'yyyy',
                  month: 'MM / yy',
                  day: 'dd/MM/yy',
                  hour: 'HH:mm'
                }
              }
            },

            legend: {
              show: false
            },
            tooltip: {
              enabled: true,
              fixed: {
                enabled: true,
                offsetX: 40
              },
            }
          }
        
        
    var chart = new ApexCharts(document.querySelector("#chart") ,options)
    chart.render()
      
     
        var setCourbe = function () {
          let datas = [{
            "name": "G1 - Puissance active r\u00e9seau (kW)",
            "data": [
              [1536876000000, 235],
              [1536876600000, 225],
              [1536877200000, 260],
              [1536877800000, 275],
              [1536878400000, 247],
              [1536879000000, 243],
              [1536879600000, 224],
              [1536880200000, 232],
              [1536880800000, 232],
              [1536881400000, 226],
              [1536882000000, 228],
              [1536882600000, 223],
              [1536883200000, 228],
              [1536883800000, 228],
              [1536884400000, 221],
              [1536885000000, 224],
              [1536885600000, 229],
              [1536886200000, 221],
              [1536886800000, 227],
              [1536887400000, 221],
              [1536888000000, 223],
              [1536888600000, 226],
              [1536889200000, 219],
              [1536889800000, 229],
              [1536890400000, 224],
              [1536891000000, 226],
              [1536891600000, 226],
              [1536892200000, 213],
              [1536892800000, 222],
              [1536893400000, 221],
              [1536894000000, 221],
              [1536894600000, 217],
              [1536895200000, 227],
              [1536895800000, 221],
              [1536896400000, 223],
              [1536897000000, 224],
              [1536897600000, 220],
              [1536898200000, 216],
              [1536898800000, 228],
              [1536899400000, 223],
              [1536900000000, 220],
              [1536900600000, 227],
              [1536901200000, 216],
              [1536901800000, 214],
              [1536902400000, 223],
              [1536903000000, 219],
              [1536903600000, 219],
              [1536904200000, 221],
              [1536904800000, 220],
              [1536905400000, 221],
              [1536906000000, 232],
              [1536906600000, 218],
              [1536907200000, 225],
              [1536907800000, 217]
            ]
          }, {
            "name": "PE - Niveau barrage (mm)",
            "data": [
              [1536876000000, 0],
              [1536876600000, -1],
              [1536877200000, 10],
              [1536877800000, 3],
              [1536878400000, -1],
              [1536879000000, -1],
              [1536879600000, 0],
              [1536880200000, 1],
              [1536880800000, 1],
              [1536881400000, 0],
              [1536882000000, -1],
              [1536882600000, 0],
              [1536883200000, 0],
              [1536883800000, 0],
              [1536884400000, 2],
              [1536885000000, 2],
              [1536885600000, -1],
              [1536886200000, 1],
              [1536886800000, 1],
              [1536887400000, 0],
              [1536888000000, 2],
              [1536888600000, -1],
              [1536889200000, 2],
              [1536889800000, 1],
              [1536890400000, 0],
              [1536891000000, 2],
              [1536891600000, 0],
              [1536892200000, -1],
              [1536892800000, 2],
              [1536893400000, 1],
              [1536894000000, -1],
              [1536894600000, 1],
              [1536895200000, 2],
              [1536895800000, 0],
              [1536896400000, 2],
              [1536897000000, 0],
              [1536897600000, -1],
              [1536898200000, 0],
              [1536898800000, 1],
              [1536899400000, 0],
              [1536900000000, 1],
              [1536900600000, 0],
              [1536901200000, 1],
              [1536901800000, 1],
              [1536902400000, 1],
              [1536903000000, 0],
              [1536903600000, 0],
              [1536904200000, 1],
              [1536904800000, 1],
              [1536905400000, 2],
              [1536906000000, -1],
              [1536906600000, 1],
              [1536907200000, 1],
              [1536907800000, 0]
            ]
          }, {
            "name": "PE - Niveau amont grille (mm)",
            "data": [
              [1536876000000, -10],
              [1536876600000, -11],
              [1536877200000, -1],
              [1536877800000, -8],
              [1536878400000, -12],
              [1536879000000, -12],
              [1536879600000, -11],
              [1536880200000, -10],
              [1536880800000, -10],
              [1536881400000, -11],
              [1536882000000, -11],
              [1536882600000, -10],
              [1536883200000, -10],
              [1536883800000, -10],
              [1536884400000, -8],
              [1536885000000, -8],
              [1536885600000, -11],
              [1536886200000, -8],
              [1536886800000, -9],
              [1536887400000, -9],
              [1536888000000, -9],
              [1536888600000, -11],
              [1536889200000, -8],
              [1536889800000, -9],
              [1536890400000, -9],
              [1536891000000, -8],
              [1536891600000, -10],
              [1536892200000, -10],
              [1536892800000, -9],
              [1536893400000, -8],
              [1536894000000, -10],
              [1536894600000, -9],
              [1536895200000, -8],
              [1536895800000, -10],
              [1536896400000, -8],
              [1536897000000, -10],
              [1536897600000, -11],
              [1536898200000, -9],
              [1536898800000, -8],
              [1536899400000, -8],
              [1536900000000, -8],
              [1536900600000, -9],
              [1536901200000, -9],
              [1536901800000, -8],
              [1536902400000, -9],
              [1536903000000, -9],
              [1536903600000, -9],
              [1536904200000, -9],
              [1536904800000, -9],
              [1536905400000, -8],
              [1536906000000, -10],
              [1536906600000, -7],
              [1536907200000, -9],
              [1536907800000, -10]
            ]
          }, {
            "name": "PE - Niveau aval grille (mm)",
            "data": [
              [1536876000000, -17],
              [1536876600000, -17],
              [1536877200000, -9],
              [1536877800000, -17],
              [1536878400000, -19],
              [1536879000000, -19],
              [1536879600000, -17],
              [1536880200000, -16],
              [1536880800000, -16],
              [1536881400000, -17],
              [1536882000000, -17],
              [1536882600000, -17],
              [1536883200000, -17],
              [1536883800000, -17],
              [1536884400000, -15],
              [1536885000000, -16],
              [1536885600000, -17],
              [1536886200000, -15],
              [1536886800000, -16],
              [1536887400000, -17],
              [1536888000000, -16],
              [1536888600000, -18],
              [1536889200000, -14],
              [1536889800000, -16],
              [1536890400000, -16],
              [1536891000000, -13],
              [1536891600000, -16],
              [1536892200000, -17],
              [1536892800000, -14],
              [1536893400000, -15],
              [1536894000000, -17],
              [1536894600000, -16],
              [1536895200000, -15],
              [1536895800000, -17],
              [1536896400000, -15],
              [1536897000000, -16],
              [1536897600000, -17],
              [1536898200000, -15],
              [1536898800000, -14],
              [1536899400000, -16],
              [1536900000000, -15],
              [1536900600000, -16],
              [1536901200000, -15],
              [1536901800000, -15],
              [1536902400000, -15],
              [1536903000000, -16],
              [1536903600000, -15],
              [1536904200000, -15],
              [1536904800000, -15],
              [1536905400000, -14],
              [1536906000000, -17],
              [1536906600000, -14],
              [1536907200000, -16],
              [1536907800000, -17]
            ]
          }, {
            "name": "SC - Niveau chambre (mm)",
            "data": [
              [1536876000000, -29],
              [1536876600000, -29],
              [1536877200000, -20],
              [1536877800000, -27],
              [1536878400000, -29],
              [1536879000000, -32],
              [1536879600000, -28],
              [1536880200000, -28],
              [1536880800000, -28],
              [1536881400000, -29],
              [1536882000000, -25],
              [1536882600000, -28],
              [1536883200000, -25],
              [1536883800000, -28],
              [1536884400000, -26],
              [1536885000000, -27],
              [1536885600000, -28],
              [1536886200000, -25],
              [1536886800000, -28],
              [1536887400000, -28],
              [1536888000000, -28],
              [1536888600000, -27],
              [1536889200000, -25],
              [1536889800000, -28],
              [1536890400000, -27],
              [1536891000000, -25],
              [1536891600000, -27],
              [1536892200000, -26],
              [1536892800000, -24],
              [1536893400000, -28],
              [1536894000000, -30],
              [1536894600000, -28],
              [1536895200000, -26],
              [1536895800000, -28],
              [1536896400000, -27],
              [1536897000000, -25],
              [1536897600000, -25],
              [1536898200000, -26],
              [1536898800000, -28],
              [1536899400000, -27],
              [1536900000000, -26],
              [1536900600000, -28],
              [1536901200000, -28],
              [1536901800000, -26],
              [1536902400000, -26],
              [1536903000000, -27],
              [1536903600000, -27],
              [1536904200000, -28],
              [1536904800000, -23],
              [1536905400000, -25],
              [1536906000000, -30],
              [1536906600000, -26],
              [1536907200000, -26],
              [1536907800000, -27]
            ]
          }, {
            "name": "SC - Hauteur de chute (m)",
            "data": [
              [1536876000000, 5.356],
              [1536876600000, 5.348],
              [1536877200000, 5.344],
              [1536877800000, 5.315],
              [1536878400000, 5.337],
              [1536879000000, 5.332],
              [1536879600000, 5.357],
              [1536880200000, 5.358],
              [1536880800000, 5.36],
              [1536881400000, 5.354],
              [1536882000000, 5.356],
              [1536882600000, 5.351],
              [1536883200000, 5.355],
              [1536883800000, 5.353],
              [1536884400000, 5.363],
              [1536885000000, 5.356],
              [1536885600000, 5.357],
              [1536886200000, 5.363],
              [1536886800000, 5.351],
              [1536887400000, 5.363],
              [1536888000000, 5.352],
              [1536888600000, 5.354],
              [1536889200000, 5.368],
              [1536889800000, 5.353],
              [1536890400000, 5.357],
              [1536891000000, 5.36],
              [1536891600000, 5.358],
              [1536892200000, 5.363],
              [1536892800000, 5.372],
              [1536893400000, 5.36],
              [1536894000000, 5.356],
              [1536894600000, 5.368],
              [1536895200000, 5.36],
              [1536895800000, 5.364],
              [1536896400000, 5.359],
              [1536897000000, 5.361],
              [1536897600000, 5.363],
              [1536898200000, 5.366],
              [1536898800000, 5.358],
              [1536899400000, 5.363],
              [1536900000000, 5.365],
              [1536900600000, 5.363],
              [1536901200000, 5.364],
              [1536901800000, 5.363],
              [1536902400000, 5.364],
              [1536903000000, 5.359],
              [1536903600000, 5.361],
              [1536904200000, 5.36],
              [1536904800000, 5.366],
              [1536905400000, 5.366],
              [1536906000000, 5.358],
              [1536906600000, 5.371],
              [1536907200000, 5.36],
              [1536907800000, 5.369]
            ]
          }]
          let newChartOptions = {
            yaxis: []
          }
          datas.forEach(element => {
            newChartOptions.yaxis.push({
              //floating: true,
              // labels: {
              //   show: false
              // }
            })
          })


          chart.updateSeries(datas)
          chart.updateOptions(newChartOptions)

          // this.series = datas
          // this.chartOptions = newChartOptions
        }

                  
    setCourbe()


  </script>
</body>

</html>